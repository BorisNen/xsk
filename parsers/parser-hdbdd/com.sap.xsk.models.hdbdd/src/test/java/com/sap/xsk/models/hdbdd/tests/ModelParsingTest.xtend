/*
 * generated by Xtext 2.18.0
 */
package com.sap.xsk.models.hdbdd.tests

import com.google.inject.Inject
import com.sap.xsk.models.hdbdd.model.HdbDD
import org.eclipse.xtext.testing.InjectWith
import org.eclipse.xtext.testing.XtextRunner
import org.eclipse.xtext.testing.util.ParseHelper
import org.junit.Assert
import org.junit.Test
import org.junit.runner.RunWith

@RunWith(XtextRunner)
@InjectWith(ModelInjectorProvider)
class ModelParsingTest {
	@Inject
	ParseHelper<HdbDD> parseHelper
	
	@Test
	def void loadModel() {
		val result = parseHelper.parse('''
			namespace product_project.db;
			
			@Schema: ADMIN
			
			context Products {
			
			    entity  Orders{
			        key Id               : String(32);
			        CustomerName         : String(500);
			        CustomerSurname      : String(500);
			        Status               : String(100);
			        CreatedAt            : UTCTimestamp;
			   		CreatedBy            : String(5000);
			        Description          : String(100);
			        Address              : String(5000);
			        Phone                : String(200);
			        Email                : String(300);
			        items                : Association[*] to Item on items.OrderId = Id;
			        
			    };
			     
			    entity Item {
			        key ItemId          : String(32);
			    	OrderId             : String(500);
				    Name                : String(500);
			        Type                : String(100);
			        Price               : String(100);
			        Currency            : String(100);
			        Quantity            : String(100);
			        Comment             : String(1000);
			    };
			    
			     
			     
			};
			
			
		''')
		Assert.assertNotNull(result)
		val errors = result.eResource.errors
		Assert.assertTrue('''Unexpected errors: «errors.join(", ")»''', errors.isEmpty)
	}
}
